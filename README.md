# Idea Weaver

**Let your local AI be your creative muse.**

Idea Weaver is a multi-agentic application designed to be your creative partner. It leverages a team of specialized AI agents, powered by local Large Language Models (LLMs) via **Ollama**, to transform a simple story premise into a well-structured narrative concept. The entire creative process is orchestrated by **CrewAI** and is fully observable through **LangSmith**, giving you a transparent look into the AI's reasoning process.

### Multi-Agent Orchestration Flow

The application employs a sequential pipeline where each agent builds upon the work of the previous one, creating a comprehensive story scaffold. This structured collaboration ensures that all aspects of the story concept are coherent and well-developed.

```mermaid
graph TD
    A[User Input: Premise, Audience, Title, Character Names] --> B(World Builder Agent);
    B --> C{World Description};
    C --> D(Character Creator Agent);
    D --> E{Character Profiles};
    E --> F(Narrative Nudger Agent);
    F --> G{Plot Twist};
    G --> H(Summary Writer Agent);
    H --> I{Final Story Summary};
    I --> J[Output: Markdown File];
```

---

## What is Idea Weaver?

This application does not write a complete, finished story. Instead, it acts as a **creative partner** to rapidly develop a detailed **story concept or scaffold** from a simple idea.

Think of it as an automated, high-speed brainstorming session with a team of creative specialists. Its main goal is to take you from a single spark of an idea (e.g., "a hobbit and a wizard on a journey") to a structured, well-defined plan that you, the writer, can then use to write the actual story.

### The Process

1.  **The User's Initial Idea:** The process starts with you providing a basic premise, a target audience, and a title. You also choose whether to have character names generated by the AI or to enter them yourself.
2.  **The Assembly of the AI "Crew":** The application assembles a team of four specialized AI agents.
3.  **The Collaborative Brainstorming Process:**
    *   **World Builder:** Expands the premise into a rich world.
    *   **Character Creator:** Creates compelling characters for that world in a human-readable format.
    *   **Narrative Nudger:** Introduces a plot twist.
    *   **Summary Writer:** Synthesizes everything into a short summary.
4.  **The Final Output:** The application compiles all the outputs into a single Markdown file, which serves as your story blueprint.

---

## Features

-   **ğŸ§™â€ World Builder** â†’ builds out rich world details
-   **ğŸ‘¤ Character Creator** â†’ generates character archetypes and quirks
-   **ğŸ“ AI-Generated Title Option** â†’ provides an option to have the AI generate a story title
-   **âœï¸ Summary Writer** â†’ writes a short, engaging summary of the story
-   **ğŸ“Š LangSmith Tracing** â†’ logs LLM interactions for observability
-   **ğŸ’¾ Local file output** â†’ saves final result using story title

---

## Requirements

Use a virtual environment and install the dependencies. `uv` is recommended for performance:

```bash
# Install dependencies using uv
uv pip install -r requirements.txt
```

---

## Project Structure

```
idea-weaver/
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ character_creator.py
â”‚   â”œâ”€â”€ character_name_generator.py
â”‚   â”œâ”€â”€ narrative_nudger.py
â”‚   â”œâ”€â”€ summary_writer.py
â”‚   â”œâ”€â”€ title_generator.py
â”‚   â””â”€â”€ world_builder.py
â”œâ”€â”€ outputs/
â”‚   â””â”€â”€ *.md
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ llm_loader.py
â”‚   â”œâ”€â”€ markdown_builder.py
â”‚   â”œâ”€â”€ prompt_templates.py
â”‚   â”œâ”€â”€ save_to_markdown.py
â”‚   â””â”€â”€ startup_checker.py
```

---

## `.env` Configuration

Create a `.env` file in the root directory and add your LangSmith and Ollama details:

```
# LangSmith Configuration
LANGSMITH_TRACING_V2=<true_or_false>
LANGSMITH_ENDPOINT=<YOUR_LANGSMITH_ENDPOINT>
LANGSMITH_API_KEY=<YOUR_LANGSMITH_API_KEY>
LANGSMITH_PROJECT=<YOUR_LANGSMITH_PROJECT_NAME>

# Ollama Configuration (Optional)
OLLAMA_BASE_URL=<YOUR_OLLAMA_BASE_URL>
OLLAMA_MODEL=<YOUR_OLLAMA_MODEL_NAME>
```

---

## How to Run

1.  **Set up your environment:**
    - Create a virtual environment using `uv`:
        ```bash
        uv venv
        ```
    - Activate the virtual environment:
        ```bash
        source .venv/bin/activate
        ```
2.  **Run the app:**
    ```bash
    python main.py
    ```
